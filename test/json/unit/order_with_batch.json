{
  "stage":"Test Order",
  "steps":[

    {
      "description":"Find the tubes by barcodes for tube...",
      "method":"post",
      "url":"/searches",
      "request":{
        "search":{
          "user":"username",
          "description":"search for barcoded tube",
          "model":"tube",
          "criteria":{
            "label":{
              "position":"barcode",
              "type":"ean13-barcode",
              "value":["2345678901234"]
            }
          }
        }
      },
      "response":{
        "search":{
          "actions":{
            "read":"http://localhost:9292/46ff7c00-68ac-0130-7ac8-282066132de2",
            "first":"http://localhost:9292/46ff7c00-68ac-0130-7ac8-282066132de2/page=1",
            "last":"http://localhost:9292/46ff7c00-68ac-0130-7ac8-282066132de2/page=-1"
          },
          "uuid":"46ff7c00-68ac-0130-7ac8-282066132de2"
        }
      }
    },

    {
      "description":"Get the search results (tubes)",
      "method":"get",
      "url":"/46ff7c00-68ac-0130-7ac8-282066132de2/page=1",
      "request":null,
      "response":{
        "actions":{
          "read":"http://localhost:9292/tubes/page=1",
          "first":"http://localhost:9292/tubes/page=1",
          "last":"http://localhost:9292/tubes/page=-1"
        },
        "size":1,
        "tubes":[
          {
              "actions":{
                "read":"http://localhost:9292/3bcf8010-68ac-0130-9163-282066132de2",
                "create":"http://localhost:9292/3bcf8010-68ac-0130-9163-282066132de2",
                "update":"http://localhost:9292/3bcf8010-68ac-0130-9163-282066132de2",
                "delete":"http://localhost:9292/3bcf8010-68ac-0130-9163-282066132de2"
              },
              "uuid":"3bcf8010-68ac-0130-9163-282066132de2",
              "type":null,
              "max_volume":null,
              "aliquots":[
                {
                  "sample":{
                    "actions":{
                      "read":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                      "create":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                      "update":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                      "delete":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2"
                    },
                    "uuid":"472fc450-68ac-0130-7ac8-282066132de2",
                    "name":"sample_0"
                  },
                  "quantity":1000,
                  "type":"NA+P",
                  "unit":"mole"
                }
              ],
              "labels":{
                "actions":{
                  "read":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
                  "create":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
                  "update":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
                  "delete":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2"
                },
                "uuid":"3bcf91e0-68ac-0130-9163-282066132de2",
                "barcode":{
                  "value":"2345678901234",
                  "type":"ean13-barcode"
                }
              }
          }
        ]
      }
    },

    {
      "description":"Find the order by tube uuid and role",
      "method":"post",
      "url":"/searches",
      "request":{
        "search":{
          "user":"username",
          "description":"search for order",
          "model":"order",
          "criteria":{
            "item":{
              "uuid":"3bcf8010-68ac-0130-9163-282066132de2"
            }
          }
        }
      },
      "response":{
        "search":{
          "actions":{
            "read":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2",
            "first":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2/page=1",
            "last":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2/page=-1"
          },
          "uuid":"473203b0-68ac-0130-7ac8-282066132de2"
        }
      }
    },

    {
      "description":"Returns an order",
      "method":"get",
      "url":"/25ec5e30-67b1-0130-915d-282066132de2",
      "request":null,
      "response":{
        "order":{
          "actions":{
            "read":"http://localhost:9292/25ec5e30-67b1-0130-915d-282066132de2",
            "create":"http://localhost:9292/25ec5e30-67b1-0130-915d-282066132de2",
            "update":"http://localhost:9292/25ec5e30-67b1-0130-915d-282066132de2",
            "delete":"http://localhost:9292/25ec5e30-67b1-0130-915d-282066132de2"
          },
          "uuid":"25ec5e30-67b1-0130-915d-282066132de2",
          "pipeline":"DNA+RNA manual extraction",
          "status":"in_progress",
          "parameters":{},
          "state":{},
          "cost_code":"cost code",
          "creator":{
            "actions":{
              "read":"http://localhost:9292/25e5bab0-67b1-0130-915d-282066132de2",
              "create":"http://localhost:9292/25e5bab0-67b1-0130-915d-282066132de2",
              "update":"http://localhost:9292/25e5bab0-67b1-0130-915d-282066132de2",
              "delete":"http://localhost:9292/25e5bab0-67b1-0130-915d-282066132de2"
            },
            "uuid":"25e5bab0-67b1-0130-915d-282066132de2"
          },
          "study":{
            "actions":{
              "read":"http://localhost:9292/25e5cbd0-67b1-0130-915d-282066132de2",
              "create":"http://localhost:9292/25e5cbd0-67b1-0130-915d-282066132de2",
              "update":"http://localhost:9292/25e5cbd0-67b1-0130-915d-282066132de2",
              "delete":"http://localhost:9292/25e5cbd0-67b1-0130-915d-282066132de2"
            },
            "uuid":"25e5cbd0-67b1-0130-915d-282066132de2"
          },
          "items":{
            "tube_to_be_extracted":[
              {
              "uuid":"25e95250-67b1-0130-915d-282066132de2",
              "status":"unused",
              "batch":{
                "actions":{
                  "read":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "create":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "update":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "delete":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2"
                },
                "uuid":"3938f630-67b1-0130-7abf-282066132de2",
                "process":null
              }
            }
            ],
            "binding_spin_column_dna":[
              {
              "uuid":"3d736740-67b1-0130-7abf-282066132de2",
              "status":"unused",
              "batch":{
                "actions":{
                  "read":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "create":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "update":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "delete":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2"
                },
                "uuid":"3938f630-67b1-0130-7abf-282066132de2",
                "process":null
              }
            }
            ],
            "by_product_tube":[
              {
              "uuid":"3daa26c0-67b1-0130-7abf-282066132de2",
              "status":"done",
              "batch":{
                "actions":{
                  "read":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "create":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "update":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "delete":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2"
                },
                "uuid":"3938f630-67b1-0130-7abf-282066132de2",
                "process":null
              }
            }
            ],
            "elution_spin_column_dna":[
              {
              "uuid":"3d736740-67b1-0130-7abf-282066132de2",
              "status":"done",
              "batch":{
                "actions":{
                  "read":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "create":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "update":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "delete":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2"
                },
                "uuid":"3938f630-67b1-0130-7abf-282066132de2",
                "process":null
              }
            }
            ],
            "extracted_tube":[
              {
              "uuid":"3e4d0b30-67b1-0130-7abf-282066132de2",
              "status":"in_progress",
              "batch":{
                "actions":{
                  "read":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "create":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "update":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                  "delete":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2"
                },
                "uuid":"3938f630-67b1-0130-7abf-282066132de2",
                "process":null
              }
            }
            ]
          }
        }
      }
    },

    {
      "description":"Find the order by tube uuid and role",
      "method":"post",
      "url":"/searches",
      "request":{
        "search":{
          "user":"username",
          "description":"search for order",
          "model":"order",
          "criteria":{
            "item":{
              "uuid":"3bcf8010-68ac-0130-9163-282066132de2"
            }
          }
        }
      },
      "response":{
        "search":{
          "actions":{
            "read":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2",
            "first":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2/page=1",
            "last":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2/page=-1"
          },
          "uuid":"473203b0-68ac-0130-7ac8-282066132de2"
        }
      }
    },

    {
      "description":"Get the search results (order)",
      "method":"get",
      "url":"/473203b0-68ac-0130-7ac8-282066132de2/page=1",
      "request":null,
      "response":{
        "actions":{
          "read":"http://localhost:9292/orders/page=1",
          "first":"http://localhost:9292/orders/page=1",
          "last":"http://localhost:9292/orders/page=-1"
        },
        "size":1,
        "orders":[
          {
            "actions":{
              "read":"http://localhost:9292/3bd3da30-68ac-0130-9163-282066132de2",
              "create":"http://localhost:9292/3bd3da30-68ac-0130-9163-282066132de2",
              "update":"http://localhost:9292/3bd3da30-68ac-0130-9163-282066132de2",
              "delete":"http://localhost:9292/3bd3da30-68ac-0130-9163-282066132de2"
            },
            "uuid":"3bd3da30-68ac-0130-9163-282066132de2",
            "pipeline":"DNA+RNA manual extraction",
            "status":"draft",
            "parameters":{},
            "state":{},
            "cost_code":"cost code",
            "creator":{
              "actions":{
                "read":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                "create":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                "update":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                "delete":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2"
              },
              "uuid":"3bce77b0-68ac-0130-9163-282066132de2"
            },
            "study":{
              "actions":{
                "read":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                "create":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                "update":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                "delete":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2"
              },
              "uuid":"3bce8620-68ac-0130-9163-282066132de2"
            },
            "items":{
              "tube_to_be_extracted":[
                {
                "uuid":"3bcf8010-68ac-0130-9163-282066132de2",
                "status":"done",
                "batch":{
                  "actions":{
                    "read":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                    "create":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                    "update":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2",
                    "delete":"http://localhost:9292/3938f630-67b1-0130-7abf-282066132de2"
                  },
                  "uuid":"3938f630-67b1-0130-7abf-282066132de2",
                  "process":null
                }
              }
              ]
            }
        }
        ]
      }
    },

    {
      "description":"Get Batch by uuid",
      "method":"get",
      "url":"/3938f630-67b1-0130-7abf-282066132de2",
      "request":null,
      "response":{
        "batch":{
          "actions":{
            "read":"http://localhost:9292/47608460-68ac-0130-7ac8-282066132de2",
            "create":"http://localhost:9292/47608460-68ac-0130-7ac8-282066132de2",
            "update":"http://localhost:9292/47608460-68ac-0130-7ac8-282066132de2",
            "delete":"http://localhost:9292/47608460-68ac-0130-7ac8-282066132de2"
          },
          "uuid":"47608460-68ac-0130-7ac8-282066132de2",
          "process":null
        }
      }
    }
  ]
}


