{
  "stage": "find a tube by barcode",

  "steps": [
    {
    "description":"Find the tubes by barcodes for tube...",
    "method":"post",
    "url":"/searches",
    "request":{
      "search":{
        "user":"username",
        "description":"search for barcoded tube",
        "model":"tube",
        "criteria":{
          "label":{
            "position":"barcode",
            "type":"ean13-barcode",
            "value":"2345678901234"
          }
        }
      }
    },
    "response":{
      "search":{
        "actions":{
          "read":"http://localhost:9292/46ff7c00-68ac-0130-7ac8-282066132de2",
          "first":"http://localhost:9292/46ff7c00-68ac-0130-7ac8-282066132de2/page=1",
          "last":"http://localhost:9292/46ff7c00-68ac-0130-7ac8-282066132de2/page=-1"
        },
        "uuid":"46ff7c00-68ac-0130-7ac8-282066132de2"
      }
    }
  },

  {
    "description":"Get the search results (tubes)",
    "method":"get",
    "url":"/46ff7c00-68ac-0130-7ac8-282066132de2/page=1",
    "request":null,
    "response":{
      "actions":{
        "read":"http://localhost:9292/tubes/page=1",
        "first":"http://localhost:9292/tubes/page=1",
        "last":"http://localhost:9292/tubes/page=-1"
      },
      "size":1,
      "tubes":[
        {
        "tube":{
          "actions":{
            "read":"http://localhost:9292/3bcf8010-68ac-0130-9163-282066132de2",
            "create":"http://localhost:9292/3bcf8010-68ac-0130-9163-282066132de2",
            "update":"http://localhost:9292/3bcf8010-68ac-0130-9163-282066132de2",
            "delete":"http://localhost:9292/3bcf8010-68ac-0130-9163-282066132de2"
          },
          "uuid":"3bcf8010-68ac-0130-9163-282066132de2",
          "type":null,
          "max_volume":null,
          "aliquots":[
            {
            "sample":{
              "actions":{
                "read":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                "create":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                "update":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                "delete":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2"
              },
              "uuid":"472fc450-68ac-0130-7ac8-282066132de2",
              "name":"sample_0"
            },
            "quantity":1000,
            "type":"NA+P",
            "unit":"mole"
          }
          ],
          "labels":{
            "actions":{
              "read":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
              "create":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
              "update":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
              "delete":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2"
            },
            "uuid":"3bcf91e0-68ac-0130-9163-282066132de2",
            "barcode":{
              "value":"2345678901234",
              "type":"ean13-barcode"
            }
          }
        }
      }
      ]
    }
  }
  ]
}
